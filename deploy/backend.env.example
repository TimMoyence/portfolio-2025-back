# --- API ---
PORT=3000
API_PORT=3000
API_PREFIX=api
SWAGGER_PATH=docs
CORS_ORIGIN=https://asilidesign.fr
TYPEORM_SYNCHRONIZE=false
DB_SYNCHRONIZE=false

# --- Database (Postgres) ---
DB_HOST=db
DB_PORT=5432
DB_NAME=portfolio
DB_USERNAME=postgres
DB_PASSWORD=postgres
DB_SSL=false
# Optional DATABASE_URL takes precedence over the individual values above.
DATABASE_URL=

# --- Admin database used to auto-create the DB when DATABASE_URL is set ---
DB_ADMIN_DATABASE=postgres

# --- SMTP ---
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SMTP_FROM="'Asili Design' <no-reply@example.com>"
CONTACT_NOTIFICATION_TO=admin@example.com
AUDIT_REPORT_TO=admin@example.com

# --- Audit pipeline / queue ---
AUDIT_QUEUE_ENABLED=true
AUDIT_QUEUE_NAME=audit_requests
REDIS_URL=redis://redis:6379
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_USERNAME=
REDIS_PASSWORD=
AUDIT_QUEUE_CONCURRENCY=1
AUDIT_QUEUE_ATTEMPTS=3
AUDIT_QUEUE_BACKOFF_MS=2000
AUDIT_JOB_TIMEOUT_MS=180000

# --- Audit fetch & sitemap ---
AUDIT_FETCH_TIMEOUT_MS=8000
AUDIT_MAX_REDIRECTS=5
AUDIT_HTML_MAX_BYTES=1000000
AUDIT_TEXT_MAX_BYTES=1000000
AUDIT_SITEMAP_SAMPLE_SIZE=10
AUDIT_SITEMAP_MAX_URLS=50000
AUDIT_SITEMAP_ANALYZE_LIMIT=150
AUDIT_URL_ANALYZE_CONCURRENCY=6
AUDIT_PAGE_ANALYZE_LIMIT=20
AUDIT_PAGE_AI_CONCURRENCY=2
AUDIT_PAGE_AI_TIMEOUT_MS=8000

# --- LLM ---
OPENAI_API_KEY=
AUDIT_LLM_MODEL=gpt-4o-mini
AUDIT_LLM_TIMEOUT_MS=60000
AUDIT_LLM_SUMMARY_TIMEOUT_MS=20000
AUDIT_LLM_EXPERT_TIMEOUT_MS=60000
AUDIT_LLM_RETRIES=1
AUDIT_LLM_LANGUAGE=fr
AUDIT_RATE_HOURLY_MIN=80
AUDIT_RATE_HOURLY_MAX=120
AUDIT_RATE_CURRENCY=EUR
